(function(){function b(){throw Error("Can't create instance of static class LocalStorage");}var c={lacalStoragePrefix:"storage:",getTime:function(){return(new Date).getTime()},validateKey:function(a){return a&&a.constructor===String&&1<a.split(":").length},parseData:function(a){try{return JSON.parse(a)}catch(c){return a}},stringifyData:function(a){return JSON.stringify({date:(new Date).toString(),time:c.getTime(),data:a})},error:function(){var a=Array.prototype.slice.call(arguments);console.error(a.join(" | "))}};
	b.isSupported=function(){return"undefined"!==typeof Storage};b.getInstance=function(a,e){return c.validateKey(a)||e?c.parseData(localStorage.getItem((e?"":c.lacalStoragePrefix)+a)):(c.error("Invalid key",a),null)};b.get=function(a,e){if(!c.validateKey(a)&&!e)return c.error("Invalid key",a),null;var d=c.parseData(localStorage.getItem((e?"":c.lacalStoragePrefix)+a));return d&&(d.data||null)};b.getCheckTime=function(a,e){if(!c.validateKey(a))return c.error("Invalid key",a),null;var d=c.parseData(localStorage.getItem(c.lacalStoragePrefix+
	a)),b=parseFloat(e);if(!d)return null;switch(!0){case 0<e.search(/m/):b*=60;break;case 0<e.search(/h/):b*=3600;break;case 0<e.search(/d/):b*=86400}return c.getTime()-d.time>1E3*b?(this.remove(a),null):d&&(d.data||null)};b.set=function(a,b){if(!c.validateKey(a))return c.error("Invalid key",a),this;localStorage.setItem(c.lacalStoragePrefix+a,c.stringifyData(b));return this};b.dump=function(a){var b=[];a=new RegExp("^"+c.lacalStoragePrefix+(a||""),"i");for(var d in localStorage)localStorage.hasOwnProperty(d)&&
	d.match(a)&&b.push({key:d,dada:this.get(d,!0)});return b};b.has=function(a){return c.validateKey(a)?localStorage.getItem(c.lacalStoragePrefix+a)?!0:!1:(c.error("Invalid key",a),!1)};b.remove=function(a){if(!c.validateKey(a))return c.error("Invalid key",a),this;localStorage.removeItem(c.lacalStoragePrefix+a);return this};b.clear=function(a){a=new RegExp("^"+c.lacalStoragePrefix+(a||""),"i");for(var b in localStorage)localStorage.hasOwnProperty(b)&&b.match(a)&&localStorage.removeItem(b);return this};
	b.clearAll=function(){localStorage.clear();return this};window.LocalStorage=b})();